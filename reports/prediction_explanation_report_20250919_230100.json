{
  "explanation_type": "SHAP-based prediction explanation",
  "model_type": "LightGBM",
  "analysis_date": "2025-09-19T23:01:00.567870",
  "sample_explanations": {
    "highest_prediction": {
      "sample_index": 394,
      "predicted_impact": 0.2046984876945168,
      "actual_return": 0.06392215394015266,
      "top_positive_contributors": [
        {
          "feature": "support_52w",
          "shap_value": 0.05053179460118091,
          "feature_value": 1.542878033544632,
          "abs_shap": 0.05053179460118091
        },
        {
          "feature": "volatility_12w",
          "shap_value": 0.04660705172166105,
          "feature_value": 0.4184848528953699,
          "abs_shap": 0.04660705172166105
        },
        {
          "feature": "ema_52",
          "shap_value": 0.03063371690725516,
          "feature_value": 3.0025196124889857,
          "abs_shap": 0.03063371690725516
        },
        {
          "feature": "macd",
          "shap_value": 0.017754135733115725,
          "feature_value": 0.3996225053239346,
          "abs_shap": 0.017754135733115725
        },
        {
          "feature": "support_12w",
          "shap_value": 0.0162879624383048,
          "feature_value": 3.4209159238220406,
          "abs_shap": 0.0162879624383048
        }
      ],
      "top_negative_contributors": [
        {
          "feature": "avg_daily_volume_lag_12",
          "shap_value": -0.023563465850910886,
          "feature_value": 822798400.0,
          "abs_shap": 0.023563465850910886
        },
        {
          "feature": "obv",
          "shap_value": -0.011228530802267883,
          "feature_value": 64649632000.0,
          "abs_shap": 0.011228530802267883
        },
        {
          "feature": "price_position_12w",
          "shap_value": -0.006195064410453246,
          "feature_value": 1.0,
          "abs_shap": 0.006195064410453246
        },
        {
          "feature": "price_ema_52_ratio",
          "shap_value": -0.0047264521881791016,
          "feature_value": 1.4820950181570036,
          "abs_shap": 0.0047264521881791016
        },
        {
          "feature": "price_position_26w",
          "shap_value": -0.0038380833098717437,
          "feature_value": 1.0,
          "abs_shap": 0.0038380833098717437
        }
      ],
      "total_positive_impact": 0.2769459390518297,
      "total_negative_impact": -0.07224745135731289
    },
    "lowest_prediction": {
      "sample_index": 356,
      "predicted_impact": -0.06505784819511198,
      "actual_return": -0.011838933911778482,
      "top_positive_contributors": [
        {
          "feature": "volatility_12w",
          "shap_value": 0.006041513476883195,
          "feature_value": 0.3379475939663608,
          "abs_shap": 0.006041513476883195
        },
        {
          "feature": "price_position_26w",
          "shap_value": 0.004790250313728232,
          "feature_value": 0.33584240715320574,
          "abs_shap": 0.004790250313728232
        },
        {
          "feature": "volatility_26w",
          "shap_value": 0.0036476577448806336,
          "feature_value": 0.3865158546285442,
          "abs_shap": 0.0036476577448806336
        },
        {
          "feature": "support_12w",
          "shap_value": 0.0017652163268648588,
          "feature_value": 19.5086669921875,
          "abs_shap": 0.0017652163268648588
        },
        {
          "feature": "avg_daily_volume_lag_12",
          "shap_value": 0.0016102858632601475,
          "feature_value": 93747600.0,
          "abs_shap": 0.0016102858632601475
        }
      ],
      "top_negative_contributors": [
        {
          "feature": "obv",
          "shap_value": -0.035187226346850155,
          "feature_value": 14710246500.0,
          "abs_shap": 0.035187226346850155
        },
        {
          "feature": "obv_sma_12",
          "shap_value": -0.02411781771328689,
          "feature_value": 14722951250.0,
          "abs_shap": 0.02411781771328689
        },
        {
          "feature": "roc_26w",
          "shap_value": -0.003923219066962903,
          "feature_value": -0.15191028214110613,
          "abs_shap": 0.003923219066962903
        },
        {
          "feature": "resistance_52w",
          "shap_value": -0.003521174470535389,
          "feature_value": 25.974000930786133,
          "abs_shap": 0.003521174470535389
        },
        {
          "feature": "atr_pct_26w",
          "shap_value": -0.0025022905569136713,
          "feature_value": 0.08187033004466839,
          "abs_shap": 0.0025022905569136713
        }
      ],
      "total_positive_impact": 0.025701113038186247,
      "total_negative_impact": -0.09075896123329821
    },
    "median_prediction": {
      "sample_index": 235,
      "predicted_impact": -0.016261041530899703,
      "actual_return": 0.10116642246238405,
      "top_positive_contributors": [
        {
          "feature": "price_sma_52_ratio",
          "shap_value": 0.001991106652463129,
          "feature_value": 1.1750065909468879,
          "abs_shap": 0.001991106652463129
        },
        {
          "feature": "price_sma_26_ratio",
          "shap_value": 0.0017448618411846915,
          "feature_value": 1.0866230676344972,
          "abs_shap": 0.0017448618411846915
        },
        {
          "feature": "obv",
          "shap_value": 0.0013268170599909628,
          "feature_value": 754720600.0,
          "abs_shap": 0.0013268170599909628
        },
        {
          "feature": "macd_histogram",
          "shap_value": 0.0008244044021743132,
          "feature_value": -0.011056031883094342,
          "abs_shap": 0.0008244044021743132
        },
        {
          "feature": "macd_signal",
          "shap_value": 0.0007108116040223282,
          "feature_value": 5.379992647060583,
          "abs_shap": 0.0007108116040223282
        }
      ],
      "top_negative_contributors": [
        {
          "feature": "atr_26w",
          "shap_value": -0.004745912122388489,
          "feature_value": 4.791586537363456,
          "abs_shap": 0.004745912122388489
        },
        {
          "feature": "price_position_26w",
          "shap_value": -0.0036815324570917784,
          "feature_value": 0.9709003957427448,
          "abs_shap": 0.0036815324570917784
        },
        {
          "feature": "volatility_12w",
          "shap_value": -0.0030156299117773005,
          "feature_value": 0.15547952420181224,
          "abs_shap": 0.0030156299117773005
        },
        {
          "feature": "support_52w",
          "shap_value": -0.0029021695830166575,
          "feature_value": 110.69236595085268,
          "abs_shap": 0.0029021695830166575
        },
        {
          "feature": "low",
          "shap_value": -0.0019832195779009637,
          "feature_value": 150.383163030416,
          "abs_shap": 0.0019832195779009637
        }
      ],
      "total_positive_impact": 0.010326360479224552,
      "total_negative_impact": -0.02658740201012425
    }
  },
  "global_insights": {
    "top_features_globally": [
      {
        "feature": "obv",
        "shap_importance": 0.005782568639081661
      },
      {
        "feature": "volatility_12w",
        "shap_importance": 0.004534036620491706
      },
      {
        "feature": "price_position_26w",
        "shap_importance": 0.004133843642278933
      },
      {
        "feature": "support_52w",
        "shap_importance": 0.002646949902112805
      },
      {
        "feature": "atr_pct_12w",
        "shap_importance": 0.0024850228263421825
      },
      {
        "feature": "price_sma_26_ratio",
        "shap_importance": 0.0023506092932185844
      },
      {
        "feature": "low_lag_1",
        "shap_importance": 0.0017465133662938844
      },
      {
        "feature": "price_sma_52_ratio",
        "shap_importance": 0.0016072012080594169
      },
      {
        "feature": "macd_signal",
        "shap_importance": 0.0012172794226054386
      },
      {
        "feature": "price_position_12w",
        "shap_importance": 0.0011889855011277737
      }
    ],
    "feature_interactions": {
      "feature_shap_correlations": {
        "low": -0.7774055887365098,
        "trading_days": NaN,
        "weekly_return": NaN,
        "open_close_ratio": NaN,
        "high_low_ratio": NaN,
        "high_lag_1": NaN,
        "volume_lag_1": -0.8380084416662306,
        "weekly_return_lag_1": NaN,
        "open_close_ratio_lag_1": NaN,
        "high_low_ratio_lag_1": NaN,
        "close_lag_4": -0.5032026218812338,
        "avg_daily_volume_lag_1": 0.5023043171273075,
        "avg_daily_volume": 0.44579029290695105,
        "weekly_volatility_lag_1": 0.3516763530759608,
        "close_lag_1": 0.2776983523908563,
        "high": -0.25112945358309197,
        "close": 0.23566952252813628,
        "low_lag_1": -0.22073477600014704,
        "open": 0.2121464372791847,
        "high_lag_4": -0.1615994411048971
      },
      "potential_interaction_features": [
        [
          "close_lag_1",
          0.2776983523908563
        ],
        [
          "high",
          -0.25112945358309197
        ],
        [
          "close",
          0.23566952252813628
        ],
        [
          "low_lag_1",
          -0.22073477600014704
        ],
        [
          "open",
          0.2121464372791847
        ],
        [
          "high_lag_4",
          -0.1615994411048971
        ],
        [
          "weekly_volatility",
          0.11246556898699783
        ],
        [
          "open_lag_1",
          0.06352765022624549
        ],
        [
          "volume_lag_12",
          -0.09845672173958064
        ],
        [
          "open_lag_12",
          -0.09722545298264594
        ]
      ],
      "highly_linear_features": [
        [
          "low",
          -0.7774055887365098
        ],
        [
          "volume_lag_1",
          -0.8380084416662306
        ]
      ]
    }
  },
  "model_performance": {
    "split_id": 0,
    "test_rmse": 0.09209600734231753,
    "test_dir_acc": 0
  },
  "methodology": {
    "explainer_type": "TreeExplainer",
    "sample_size": 500,
    "interpretation": "SHAP values represent the contribution of each feature to the prediction"
  }
}